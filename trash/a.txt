###control plane

    curl -sfL https://get.k3s.io | sh -

    systemctl status k3s

    cat /var/lib/rancher/k3s/server/node-token


    sudo ufw allow 6443/tcp
    sudo ufw allow 10250/tcp
    sudo ufw allow 8472/udp
    sudo ufw allow 51820/udp
    sudo ufw allow 51821/udp
    sudo ufw reload


###worker node

    curl -sfL https://get.k3s.io | K3S_URL="https://<MASTER_IP>:6443" K3S_TOKEN="<TOKEN>" sh -
    

    kubectl get nodes

    kubectl get pods -A


    ping <MASTER_IP>
   




   nc -zv <MASTER_IP> 6443

sudo ufw allow 6443/tcp
sudo ufw reload

sudo iptables -A INPUT -p tcp --dport 6443 -j ACCEPT


sudo journalctl -u k3s -n 50 --no-pager

sudo systemctl restart k3s-agent
sudo systemctl status k3s-agent
